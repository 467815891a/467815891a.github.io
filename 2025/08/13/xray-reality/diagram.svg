<svg id="mermaid-0cb529df-3be1-46b8-917f-92b1c0c7609e" width="100%" xmlns="http://www.w3.org/2000/svg" style="max-width: 512.4281311035156px;" viewBox="-8 -8 512.4281311035156 673.4750366210938" role="graphics-document document" aria-roledescription="flowchart-v2"><style>#mermaid-0cb529df-3be1-46b8-917f-92b1c0c7609e{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;fill:#333;}#mermaid-0cb529df-3be1-46b8-917f-92b1c0c7609e .error-icon{fill:#552222;}#mermaid-0cb529df-3be1-46b8-917f-92b1c0c7609e .error-text{fill:#552222;stroke:#552222;}#mermaid-0cb529df-3be1-46b8-917f-92b1c0c7609e .edge-thickness-normal{stroke-width:2px;}#mermaid-0cb529df-3be1-46b8-917f-92b1c0c7609e .edge-thickness-thick{stroke-width:3.5px;}#mermaid-0cb529df-3be1-46b8-917f-92b1c0c7609e .edge-pattern-solid{stroke-dasharray:0;}#mermaid-0cb529df-3be1-46b8-917f-92b1c0c7609e .edge-pattern-dashed{stroke-dasharray:3;}#mermaid-0cb529df-3be1-46b8-917f-92b1c0c7609e .edge-pattern-dotted{stroke-dasharray:2;}#mermaid-0cb529df-3be1-46b8-917f-92b1c0c7609e .marker{fill:#333333;stroke:#333333;}#mermaid-0cb529df-3be1-46b8-917f-92b1c0c7609e .marker.cross{stroke:#333333;}#mermaid-0cb529df-3be1-46b8-917f-92b1c0c7609e svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;}#mermaid-0cb529df-3be1-46b8-917f-92b1c0c7609e .label{font-family:"trebuchet ms",verdana,arial,sans-serif;color:#333;}#mermaid-0cb529df-3be1-46b8-917f-92b1c0c7609e .cluster-label text{fill:#333;}#mermaid-0cb529df-3be1-46b8-917f-92b1c0c7609e .cluster-label span,#mermaid-0cb529df-3be1-46b8-917f-92b1c0c7609e p{color:#333;}#mermaid-0cb529df-3be1-46b8-917f-92b1c0c7609e .label text,#mermaid-0cb529df-3be1-46b8-917f-92b1c0c7609e span,#mermaid-0cb529df-3be1-46b8-917f-92b1c0c7609e p{fill:#333;color:#333;}#mermaid-0cb529df-3be1-46b8-917f-92b1c0c7609e .node rect,#mermaid-0cb529df-3be1-46b8-917f-92b1c0c7609e .node circle,#mermaid-0cb529df-3be1-46b8-917f-92b1c0c7609e .node ellipse,#mermaid-0cb529df-3be1-46b8-917f-92b1c0c7609e .node polygon,#mermaid-0cb529df-3be1-46b8-917f-92b1c0c7609e .node path{fill:#ECECFF;stroke:#9370DB;stroke-width:1px;}#mermaid-0cb529df-3be1-46b8-917f-92b1c0c7609e .flowchart-label text{text-anchor:middle;}#mermaid-0cb529df-3be1-46b8-917f-92b1c0c7609e .node .katex path{fill:#000;stroke:#000;stroke-width:1px;}#mermaid-0cb529df-3be1-46b8-917f-92b1c0c7609e .node .label{text-align:center;}#mermaid-0cb529df-3be1-46b8-917f-92b1c0c7609e .node.clickable{cursor:pointer;}#mermaid-0cb529df-3be1-46b8-917f-92b1c0c7609e .arrowheadPath{fill:#333333;}#mermaid-0cb529df-3be1-46b8-917f-92b1c0c7609e .edgePath .path{stroke:#333333;stroke-width:2.0px;}#mermaid-0cb529df-3be1-46b8-917f-92b1c0c7609e .flowchart-link{stroke:#333333;fill:none;}#mermaid-0cb529df-3be1-46b8-917f-92b1c0c7609e .edgeLabel{background-color:#e8e8e8;text-align:center;}#mermaid-0cb529df-3be1-46b8-917f-92b1c0c7609e .edgeLabel rect{opacity:0.5;background-color:#e8e8e8;fill:#e8e8e8;}#mermaid-0cb529df-3be1-46b8-917f-92b1c0c7609e .labelBkg{background-color:rgba(232, 232, 232, 0.5);}#mermaid-0cb529df-3be1-46b8-917f-92b1c0c7609e .cluster rect{fill:#ffffde;stroke:#aaaa33;stroke-width:1px;}#mermaid-0cb529df-3be1-46b8-917f-92b1c0c7609e .cluster text{fill:#333;}#mermaid-0cb529df-3be1-46b8-917f-92b1c0c7609e .cluster span,#mermaid-0cb529df-3be1-46b8-917f-92b1c0c7609e p{color:#333;}#mermaid-0cb529df-3be1-46b8-917f-92b1c0c7609e div.mermaidTooltip{position:absolute;text-align:center;max-width:200px;padding:2px;font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:12px;background:hsl(80, 100%, 96.2745098039%);border:1px solid #aaaa33;border-radius:2px;pointer-events:none;z-index:100;}#mermaid-0cb529df-3be1-46b8-917f-92b1c0c7609e .flowchartTitleText{text-anchor:middle;font-size:18px;fill:#333;}#mermaid-0cb529df-3be1-46b8-917f-92b1c0c7609e :root{--mermaid-font-family:"trebuchet ms",verdana,arial,sans-serif;}#mermaid-0cb529df-3be1-46b8-917f-92b1c0c7609e .client>*{fill:#e6f7ff!important;stroke:#1890ff!important;}#mermaid-0cb529df-3be1-46b8-917f-92b1c0c7609e .client span{fill:#e6f7ff!important;stroke:#1890ff!important;}#mermaid-0cb529df-3be1-46b8-917f-92b1c0c7609e .xray>*{fill:#fff7e6!important;stroke:#fa8c16!important;}#mermaid-0cb529df-3be1-46b8-917f-92b1c0c7609e .xray span{fill:#fff7e6!important;stroke:#fa8c16!important;}#mermaid-0cb529df-3be1-46b8-917f-92b1c0c7609e .nginx>*{fill:#fff0f6!important;stroke:#eb2f96!important;}#mermaid-0cb529df-3be1-46b8-917f-92b1c0c7609e .nginx span{fill:#fff0f6!important;stroke:#eb2f96!important;}</style><g><marker id="mermaid-0cb529df-3be1-46b8-917f-92b1c0c7609e_flowchart-pointEnd" class="marker flowchart" viewBox="0 0 10 10" refX="6" refY="5" markerUnits="userSpaceOnUse" markerWidth="12" markerHeight="12" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" class="arrowMarkerPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path></marker><marker id="mermaid-0cb529df-3be1-46b8-917f-92b1c0c7609e_flowchart-pointStart" class="marker flowchart" viewBox="0 0 10 10" refX="4.5" refY="5" markerUnits="userSpaceOnUse" markerWidth="12" markerHeight="12" orient="auto"><path d="M 0 5 L 10 10 L 10 0 z" class="arrowMarkerPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path></marker><marker id="mermaid-0cb529df-3be1-46b8-917f-92b1c0c7609e_flowchart-circleEnd" class="marker flowchart" viewBox="0 0 10 10" refX="11" refY="5" markerUnits="userSpaceOnUse" markerWidth="11" markerHeight="11" orient="auto"><circle cx="5" cy="5" r="5" class="arrowMarkerPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></circle></marker><marker id="mermaid-0cb529df-3be1-46b8-917f-92b1c0c7609e_flowchart-circleStart" class="marker flowchart" viewBox="0 0 10 10" refX="-1" refY="5" markerUnits="userSpaceOnUse" markerWidth="11" markerHeight="11" orient="auto"><circle cx="5" cy="5" r="5" class="arrowMarkerPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></circle></marker><marker id="mermaid-0cb529df-3be1-46b8-917f-92b1c0c7609e_flowchart-crossEnd" class="marker cross flowchart" viewBox="0 0 11 11" refX="12" refY="5.2" markerUnits="userSpaceOnUse" markerWidth="11" markerHeight="11" orient="auto"><path d="M 1,1 l 9,9 M 10,1 l -9,9" class="arrowMarkerPath" style="stroke-width: 2; stroke-dasharray: 1, 0;"></path></marker><marker id="mermaid-0cb529df-3be1-46b8-917f-92b1c0c7609e_flowchart-crossStart" class="marker cross flowchart" viewBox="0 0 11 11" refX="-1" refY="5.2" markerUnits="userSpaceOnUse" markerWidth="11" markerHeight="11" orient="auto"><path d="M 1,1 l 9,9 M 10,1 l -9,9" class="arrowMarkerPath" style="stroke-width: 2; stroke-dasharray: 1, 0;"></path></marker><g class="root"><g class="clusters"></g><g class="edgePaths"><path d="M282.299,39L272.088,45.167C261.878,51.333,241.456,63.667,231.245,75.117C221.034,86.567,221.034,97.133,221.034,102.417L221.034,107.7" id="L-A-B-0" class=" edge-thickness-normal edge-pattern-solid flowchart-link LS-A LE-B" style="fill:none;" marker-end="url(#mermaid-0cb529df-3be1-46b8-917f-92b1c0c7609e_flowchart-pointEnd)"></path><path d="M221.034,152L221.034,158.167C221.034,164.333,221.034,176.667,231.281,193.263C241.528,209.859,262.021,230.719,272.268,241.149L282.514,251.578" id="L-B-C-0" class=" edge-thickness-normal edge-pattern-solid flowchart-link LS-B LE-C" style="fill:none;" marker-end="url(#mermaid-0cb529df-3be1-46b8-917f-92b1c0c7609e_flowchart-pointEnd)"></path><path d="M335.747,39L342.439,45.167C349.131,51.333,362.514,63.667,369.205,79.25C375.897,94.833,375.897,113.667,375.897,132.5C375.897,151.333,375.897,170.167,370.034,188.887C364.172,207.608,352.446,226.216,346.584,235.52L340.721,244.824" id="L-A-C-0" class=" edge-thickness-normal edge-pattern-solid flowchart-link LS-A LE-C" style="fill:none;" marker-end="url(#mermaid-0cb529df-3be1-46b8-917f-92b1c0c7609e_flowchart-pointEnd)"></path><path d="M274.027,301.915L242.845,314.841C211.662,327.768,149.297,353.622,118.114,371.832C86.931,390.042,86.931,400.608,86.931,405.892L86.931,411.175" id="L-C-D-0" class=" edge-thickness-normal edge-pattern-dotted flowchart-link LS-C LE-D" style="fill:none;stroke-width:2px;stroke-dasharray:3;" marker-end="url(#mermaid-0cb529df-3be1-46b8-917f-92b1c0c7609e_flowchart-pointEnd)"></path><path d="M315.088,342.975L315.004,349.058C314.921,355.142,314.754,367.308,314.671,378.675C314.588,390.042,314.588,400.608,314.588,405.892L314.588,411.175" id="L-C-E-0" class=" edge-thickness-normal edge-pattern-dotted flowchart-link LS-C LE-E" style="fill:none;stroke-width:2px;stroke-dasharray:3;" marker-end="url(#mermaid-0cb529df-3be1-46b8-917f-92b1c0c7609e_flowchart-pointEnd)"></path><path d="M86.931,455.475L86.931,461.642C86.931,467.808,86.931,480.142,86.931,491.592C86.931,503.042,86.931,513.608,86.931,518.892L86.931,524.175" id="L-D-F-0" class=" edge-thickness-normal edge-pattern-solid flowchart-link LS-D LE-F" style="fill:none;" marker-end="url(#mermaid-0cb529df-3be1-46b8-917f-92b1c0c7609e_flowchart-pointEnd)"></path><path d="M86.931,568.475L86.931,572.642C86.931,576.808,86.931,585.142,86.931,592.592C86.931,600.042,86.931,606.608,86.931,609.892L86.931,613.175" id="L-F-G-0" class=" edge-thickness-normal edge-pattern-solid flowchart-link LS-F LE-G" style="fill:none;" marker-end="url(#mermaid-0cb529df-3be1-46b8-917f-92b1c0c7609e_flowchart-pointEnd)"></path><path d="M314.588,455.475L314.588,461.642C314.588,467.808,314.588,480.142,314.588,491.592C314.588,503.042,314.588,513.608,314.588,518.892L314.588,524.175" id="L-E-H-0" class=" edge-thickness-normal edge-pattern-solid flowchart-link LS-E LE-H" style="fill:none;" marker-end="url(#mermaid-0cb529df-3be1-46b8-917f-92b1c0c7609e_flowchart-pointEnd)"></path><path d="M314.588,568.475L314.588,572.642C314.588,576.808,314.588,585.142,319.613,592.956C324.639,600.771,334.69,608.066,339.716,611.714L344.742,615.362" id="L-H-I-0" class=" edge-thickness-normal edge-pattern-solid flowchart-link LS-H LE-I" style="fill:none;" marker-end="url(#mermaid-0cb529df-3be1-46b8-917f-92b1c0c7609e_flowchart-pointEnd)"></path><path d="M402.763,618.475L408.503,614.308C414.244,610.142,425.725,601.808,431.466,590.225C437.206,578.642,437.206,563.808,437.206,546.975C437.206,530.142,437.206,511.308,437.206,492.475C437.206,473.642,437.206,454.808,437.206,435.975C437.206,417.142,437.206,398.308,423.014,377.887C408.822,357.465,380.438,335.455,366.246,324.449L352.054,313.444" id="L-I-C-0" class=" edge-thickness-normal edge-pattern-dotted flowchart-link LS-I LE-C" style="fill:none;stroke-width:2px;stroke-dasharray:3;" marker-end="url(#mermaid-0cb529df-3be1-46b8-917f-92b1c0c7609e_flowchart-pointEnd)"></path></g><g class="edgeLabels"><g class="edgeLabel" transform="translate(221.03437614440918, 76)"><g class="label" transform="translate(-60.53125, -12)"><foreignObject width="121.0625" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="edgeLabel">1. 普通HTTP请求</span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(221.03437614440918, 189)"><g class="label" transform="translate(-73.1187515258789, -12)"><foreignObject width="146.2375030517578" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="edgeLabel">2. HTTP重定向到443</span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(375.896879196167, 132.5)"><g class="label" transform="translate(-54.837501525878906, -12)"><foreignObject width="109.67500305175781" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="edgeLabel">直接HTTPS请求</span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(86.9312515258789, 379.4750061035156)"><g class="label" transform="translate(-81.5875015258789, -12)"><foreignObject width="163.1750030517578" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="edgeLabel">正常VLESS+Reality流量</span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(314.58750343322754, 379.4750061035156)"><g class="label" transform="translate(-54.837501525878906, -12)"><foreignObject width="109.67500305175781" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="edgeLabel">普通HTTPS流量</span></div></foreignObject></g></g><g class="edgeLabel"><g class="label" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g class="label" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g class="label" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g class="label" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(437.20625495910645, 492.4750061035156)"><g class="label" transform="translate(-48, -12)"><foreignObject width="96" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="edgeLabel">网页内容响应</span></div></foreignObject></g></g></g><g class="nodes"><g class="node default client flowchart-label" id="flowchart-A-97" data-node="true" data-id="A" transform="translate(314.58750343322754, 19.5)"><rect class="basic label-container" style="fill:#e6f7ff;stroke:#1890ff;" rx="0" ry="0" x="-59.70000076293945" y="-19.5" width="119.4000015258789" height="39"></rect><g class="label" style="" transform="translate(-52.20000076293945, -12)"><rect></rect><foreignObject width="104.4000015258789" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="nodeLabel">客户端/浏览器</span></div></foreignObject></g></g><g class="node default nginx flowchart-label" id="flowchart-B-98" data-node="true" data-id="B" transform="translate(221.03437614440918, 132.5)"><rect class="basic label-container" style="fill:#fff0f6;stroke:#eb2f96;" rx="0" ry="0" x="-65.0250015258789" y="-19.5" width="130.0500030517578" height="39"></rect><g class="label" style="" transform="translate(-57.525001525878906, -12)"><rect></rect><foreignObject width="115.05000305175781" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="nodeLabel">服务器 Nginx:80</span></div></foreignObject></g></g><g class="node default xray flowchart-label" id="flowchart-C-100" data-node="true" data-id="C" transform="translate(314.58750343322754, 284.2375030517578)"><polygon points="58.23750114440918,0 116.47500228881836,-58.23750114440918 58.23750114440918,-116.47500228881836 0,-58.23750114440918" class="label-container" transform="translate(-58.23750114440918,58.23750114440918)" style="fill:#fff7e6;stroke:#fa8c16;"></polygon><g class="label" style="" transform="translate(-31.23750114440918, -12)"><rect></rect><foreignObject width="62.47500228881836" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="nodeLabel">Xray:443</span></div></foreignObject></g></g><g class="node default xray flowchart-label" id="flowchart-D-104" data-node="true" data-id="D" transform="translate(86.9312515258789, 435.9750061035156)"><rect class="basic label-container" style="fill:#fff7e6;stroke:#fa8c16;" rx="0" ry="0" x="-79.8687515258789" y="-19.5" width="159.7375030517578" height="39"></rect><g class="label" style="" transform="translate(-72.3687515258789, -12)"><rect></rect><foreignObject width="144.7375030517578" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="nodeLabel">Xray处理Reality协议</span></div></foreignObject></g></g><g class="node default xray flowchart-label" id="flowchart-E-106" data-node="true" data-id="E" transform="translate(314.58750343322754, 435.9750061035156)"><rect class="basic label-container" style="fill:#fff7e6;stroke:#fa8c16;" rx="0" ry="0" x="-67.75" y="-19.5" width="135.5" height="39"></rect><g class="label" style="" transform="translate(-60.25, -12)"><rect></rect><foreignObject width="120.5" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="nodeLabel">Xray触发fallback</span></div></foreignObject></g></g><g class="node default xray flowchart-label" id="flowchart-F-108" data-node="true" data-id="F" transform="translate(86.9312515258789, 548.9750061035156)"><rect class="basic label-container" style="fill:#fff7e6;stroke:#fa8c16;" rx="0" ry="0" x="-60.23125076293945" y="-19.5" width="120.4625015258789" height="39"></rect><g class="label" style="" transform="translate(-52.73125076293945, -12)"><rect></rect><foreignObject width="105.4625015258789" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="nodeLabel">VLESS协议验证</span></div></foreignObject></g></g><g class="node default xray flowchart-label" id="flowchart-G-110" data-node="true" data-id="G" transform="translate(86.9312515258789, 637.9750061035156)"><rect class="basic label-container" style="fill:#fff7e6;stroke:#fa8c16;" rx="0" ry="0" x="-86.9312515258789" y="-19.5" width="173.8625030517578" height="39"></rect><g class="label" style="" transform="translate(-79.4312515258789, -12)"><rect></rect><foreignObject width="158.8625030517578" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="nodeLabel">Freedom出站访问目标</span></div></foreignObject></g></g><g class="node default xray flowchart-label" id="flowchart-H-112" data-node="true" data-id="H" transform="translate(314.58750343322754, 548.9750061035156)"><rect class="basic label-container" style="fill:#fff7e6;stroke:#fa8c16;" rx="0" ry="0" x="-87.6187515258789" y="-19.5" width="175.2375030517578" height="39"></rect><g class="label" style="" transform="translate(-80.1187515258789, -12)"><rect></rect><foreignObject width="160.2375030517578" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="nodeLabel">转发到 127.0.0.1:8080</span></div></foreignObject></g></g><g class="node default nginx flowchart-label" id="flowchart-I-114" data-node="true" data-id="I" transform="translate(375.896879196167, 637.9750061035156)"><rect class="basic label-container" style="fill:#fff0f6;stroke:#eb2f96;" rx="0" ry="0" x="-120.53125" y="-19.5" width="241.0625" height="39"></rect><g class="label" style="" transform="translate(-113.03125, -12)"><rect></rect><foreignObject width="226.0625" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="nodeLabel">服务器 Nginx:8080 (HTTPS服务)</span></div></foreignObject></g></g></g></g></g></svg>